<div class="entry-content">
<p>今日は<a class="keyword" href="http://d.hatena.ne.jp/keyword/PWM%C0%A9%B8%E6">PWM制御</a>を試してみます。<br/><br/><a href="http://toshiba.semicon-storage.com/jp/design-support/e-learning/brushless_motor/chap3/1274512.html">PWMとは</a><br/><br/>PWMとはPulse Width Modulationといって、電圧のオンとオフをどれだけの割合で混ぜるかという方法によって、電圧の割合を制御するという方法です。<br/>基準に対して～%の電圧が欲しいとき、電圧幅を小さくするのではなく、ON時間を全体の～%にすることで同じ制御となる、というものです。<br/><br/>たとえば、5Vの電源(たとえば<a class="keyword" href="http://d.hatena.ne.jp/keyword/Arduino">Arduino</a>のDigital5 pin)で抵抗をはさんで3Vをつくるのと、5Vの電源をPWM 60%で使うのは同じ効果が得られます。<br/><br/>回路は以下です。<br/><br/><a class="detailOn" href="https://cdn-ak.f.st-hatena.com/images/fotolife/s/s51517765/20160919/20160919111849.png" id="i13476324603"><img alt="" border="0" height="309" src="https://cdn-ak.f.st-hatena.com/images/fotolife/s/s51517765/20160919/20160919111849.png" width="220"/></a><br/><br/>スイッチで制御する。</p>
<p><iframe class="embed-card embed-blogcard" frameborder="0" scrolling="no" src="https://hatenablog-parts.com/embed?url=https%3A%2F%2Fs51517765.hatenadiary.jp%2Fentry%2F2015%2F11%2F01%2F095345" style="display: block; width: 100%; height: 190px; max-width: 500px; margin: 10px 0px;" title="スイッチで制御する - プログラミング素人のはてなブログ"></iframe><cite class="hatena-citation"><a href="https://s51517765.hatenadiary.jp/entry/2015/11/01/095345">s51517765.hatenadiary.jp</a></cite></p>
<p> <br/>の回路を改造しました。<br/><br/>図は、作り直しているため、若干異なりますがご承知ください。<br/><br/>ここで、<a class="keyword" href="http://d.hatena.ne.jp/keyword/PWM%C0%A9%B8%E6">PWM制御</a>を使うため、LEDの電源はDigital 5pinを使います。<br/>5V pinは<a class="keyword" href="http://d.hatena.ne.jp/keyword/Arduino">Arduino</a>の電源が入っているときは、常に5Vが一定に掛かっています。<br/>一方、Digital　pinのなかでも3, 5, 6, 9, 10, 11が<a class="keyword" href="http://d.hatena.ne.jp/keyword/PWM%C0%A9%B8%E6">PWM制御</a>に使えます。<br/>この辺は、<a class="keyword" href="http://d.hatena.ne.jp/keyword/Arduino">Arduino</a>の資料を探せば出てきます。<br/><a href="http://arms22.blog91.fc2.com/blog-entry-501.html">http://arms22.blog91.fc2.com/blog-entry-501.html</a><br/><br/>図の作成も慣れてきたら、なるべく、配線の色を規則化したいと思います。<br/>電源(+電圧)は赤、GNDは黒、制御線は黄というようにしていきたいと思います。<br/><br/><a class="detailOn" href="https://cdn-ak.f.st-hatena.com/images/fotolife/s/s51517765/20160919/20160919111853.png" id="i13476324602"><img alt="" border="0" height="348" src="https://cdn-ak.f.st-hatena.com/images/fotolife/s/s51517765/20160919/20160919111853.png" width="220"/></a><br/><br/><br/>ここでは、スイッチを押したときに　if elseで　LEDに掛かる電圧を変化するようにしました。<br/>====================<br/>else {<br/>    analogWrite(led, 10); //<a class="keyword" href="http://d.hatena.ne.jp/keyword/PWM%C0%A9%B8%E6">PWM制御</a><br/>    delay(300);<br/>    analogWrite(led, 100);<br/>    delay(300);<br/>    analogWrite(led, 170);<br/>    delay(300);<br/>    analogWrite(led, 250);<br/>    delay(300);<br/>  }<br/>====================<br/><br/><a class="keyword" href="http://d.hatena.ne.jp/keyword/PWM%C0%A9%B8%E6">PWM制御</a>を使うときはanalogWriteで電圧を記述します。<br/>これまではdiditalで　HIGH or LOW で2値でしたが、Analogでは0～255までが使えます。<br/>256諧調でこれを8bitといいます。<br/>100%が255となるように電圧が変わります。<br/>Digital出力では抵抗を変化させることで電圧を変えますが、<br/><a class="keyword" href="http://d.hatena.ne.jp/keyword/PWM%C0%A9%B8%E6">PWM制御</a>ではこのようにして、program的に出力を変化させることができます。<br/><br/>■ソース<br/><a href=" http://www.zg.em-net.ne.jp/~sn123456789/151106.txt " target="_blank"> http://www.zg.em-net.ne.jp/~sn123456789/151106.txt<br/></a><br/><br/>さて、本格的に役立つものを作る計画として、給水ポンプを発注しました。↓↓</p>
<div class="freezed">
<div class="hatena-asin-detail"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/B00MCIPBO8/shirotoakb-22/"><img alt="DC 12V 水中ポンプ DC30A-1230 小型ポンプ ハイパワー 直流DC5V?DC12V 池ポンプ 揚程 3M　水族館給水・排水ポンプ　水槽水循環 潜水ポンプ 静音 水中の使用可能 静音 ブラシレスモーター 潜水インストール 濾過ポンプ 庭池 循環ポンプ　自作 ポンプ DIY ガーデニング 水中ポンプ" class="hatena-asin-detail-image" src="https://images-fe.ssl-images-amazon.com/images/I/41S7Y2WcxwL._SL160_.jpg" title="DC 12V 水中ポンプ DC30A-1230 小型ポンプ ハイパワー 直流DC5V?DC12V 池ポンプ 揚程 3M　水族館給水・排水ポンプ　水槽水循環 潜水ポンプ 静音 水中の使用可能 静音 ブラシレスモーター 潜水インストール 濾過ポンプ 庭池 循環ポンプ　自作 ポンプ DIY ガーデニング 水中ポンプ"/></a>
<div class="hatena-asin-detail-info">
<p class="hatena-asin-detail-title"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/B00MCIPBO8/shirotoakb-22/">DC 12V 水中ポンプ DC30A-1230 小型ポンプ ハイパワー 直流DC5V?DC12V 池ポンプ 揚程 3M　水族館給水・排水ポンプ　水槽水循環 潜水ポンプ 静音 水中の使用可能 静音 ブラシレスモーター 潜水インストール 濾過ポンプ 庭池 循環ポンプ　自作 ポンプ DIY ガーデニング 水中ポンプ</a></p>
<ul>
<li><span class="hatena-asin-detail-label">メディア:</span> おもちゃ＆ホビー</li>
<li><a href="http://d.hatena.ne.jp/asin/B00MCIPBO8/shirotoakb-22" target="_blank">この商品を含むブログを見る</a></li>
</ul>
</div>
<div class="hatena-asin-detail-foot"> </div>
</div>
</div>
<p> </p>
</div>