<div class="entry-content">
<p>先日までに作った回路です。</p>
<p> </p>
<p><img alt="f:id:s51517765:20170702093727j:plain" class="hatena-fotolife" src="https://cdn-ak.f.st-hatena.com/images/fotolife/s/s51517765/20170702/20170702093727.jpg" title="f:id:s51517765:20170702093727j:plain"/></p>
<p> </p>
<p>これまでに、ブログに書いてきたことの足し合わせです。</p>
<p> </p>
<p>タクトスイッチはPin2に接続。</p>
<p>タクトスイッチの読み取りは、何度も使っていますが、考え方としては、スイッチを押していないとき、読み取りピンが抵抗を介してGND、スイッチを押すと、5Vに繋がる、と考えます。</p>
<p> </p>
<p>土壌センサ、(土壌抵抗測定端子)はGND側につけて、測定端子のプラス側に基準抵抗（ここでは67K</p>
<p>Ω)をはさんで、5Vに接続。基準抵抗と土壌抵抗測定器のあいだの電位をdiditalReadで読みます。</p>
<p> </p>
<p>ここで、土壌センサに入力する5Vとタクトスイッチに入れる5Vは同じものです。</p>
<p>同じでいいのか、何かおかしいような気にもなりますが、問題はもちろんありません。</p>
<p> </p>
<p>なぜか？？</p>
<p>これは、5Vに繋がっている端子は、常に5Vであり、GNDに繋がっている端子は常にGND(0V)であるからです。(土壌抵抗が変わっても、タクトスイッチの状態が変わっても変わらないはずです)</p>
<p>回路に異常電流が流れるようなときは別です。</p>
<p> </p>
<p>NPN<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%C8%A5%E9%A5%F3%A5%B8%A5%B9%A5%BF">トランジスタ</a>は、ベース入力として+電位を入力し、ベース電位ONのとき、リレーON。</p>
<p> </p>
<p>土壌抵抗の検知結果を知らせるLEDはA1～A3に接続しました。</p>
<p> </p>
<p>現在、自動水遣り装置は実際に運用中ですが、今度は動作Logを取ることを考えてみようと思います。</p>
</div>