<div class="entry-content">
<p></p><blockquote class="twitter-tweet" data-lang="ja"><p dir="ltr" lang="ja">プログラミング中級者って何できればいいの？<br/><br/>FW作れるとか？</p>— たべたつ (@ttabtt3) <a href="https://twitter.com/ttabtt3/status/1070236863225446400?ref_src=twsrc%5Etfw">2018年12月5日</a></blockquote><script async="" charset="utf-8" src="https://platform.twitter.com/widgets.js"></script><br/>
<blockquote class="twitter-tweet" data-lang="ja"><p dir="ltr" lang="ja">バグのないシステム、という文脈がヤバそう 😇</p>— たべたつ (@ttabtt3) <a href="https://twitter.com/ttabtt3/status/1070239463324798976?ref_src=twsrc%5Etfw">2018年12月5日</a></blockquote><script async="" charset="utf-8" src="https://platform.twitter.com/widgets.js"></script><p>ソフトウェアというのは、会社を作らなくても、工場を持たなくても作れてしまいます。<br/>
さらに、<a class="keyword" href="http://d.hatena.ne.jp/keyword/Vector">Vector</a>や<a class="keyword" href="http://d.hatena.ne.jp/keyword/Github">Github</a>で公開することも現代では簡単にしかも無料でできてしまいます。</p><p>しかし、自分だけが使うソフトウェアであれば多少バグがあっても直しながら使えばよいですが、人が使うときはそれによって(とくに仕事に)問題を起こすと大変です。問題を喰らってしまった方はたまったものではないが、制作者側も信頼を失ってしまいます。<br/>
バグを100%なくすことはできない、と言われていますが、できる限り少なくすることは必要です。ここでは私が経験的に蓄積したバグの少ないソフトウェアを開発する手法をまとめてみました。 </p><h3>try, catchは最後に書く</h3>例外がスローされないように、丁寧に入力値を精査することで想定違いの多くが修正できます。try, catchは公開直前に追加するようにします。<p></p><h3>入力欄には敢えて想定と違う変数を入力してみる</h3>数値を入力するところに文字列を入力したらどうなるか？<a class="keyword" href="http://d.hatena.ne.jp/keyword/%BC%AB%C1%B3%BF%F4">自然数</a>が想定されている部分に小数を入れたらどうなるか？負の数を入れたらどうなるか？<br/>
文字列はtry.parseなどでチェックを入れ処理を中止する、入力規則（numericUpDownなど）を使う。<p></p><h3>極限データ、境界データを入力してみる</h3>境界データを確認する。最大のインデックスを指定してみる、インデックス範囲外を指定してみる、マイナス値を指定してみる。<br/>
たとえば<code>if(a&gt;Math.Pow(2,4))</code>のような条件があったとき、aが17ではTRUEで16はFALSEである<p></p><h3>クリック出来るボタンを連打する</h3>連打したとき動作に問題が出る場合は計算(動作)中にはボタンを無効化する。<p></p><h3>constを適切に設定する</h3>変更されることがない変数はconstで宣言する。しかし変わることがないのに変数とはこれ如何に？<p></p><h3>すべての前提条件（<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%C1%A5%A7%A5%C3%A5%AF%A5%DC%A5%C3%A5%AF%A5%B9">チェックボックス</a>、<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%E9%A5%B8%A5%AA%A5%DC%A5%BF%A5%F3">ラジオボタン</a>など）を試す</h3>複数の<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%C1%A5%A7%A5%C3%A5%AF%A5%DC%A5%C3%A5%AF%A5%B9">チェックボックス</a>があるならそのすべての組み合わせを試す。<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%C1%A5%A7%A5%C3%A5%AF%A5%DC%A5%C3%A5%AF%A5%B9">チェックボックス</a>が３つあれば組み合わせは2の3乗で8通りの組み合わせになる。排他的な条件であれば<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%E9%A5%B8%A5%AA%A5%DC%A5%BF%A5%F3">ラジオボタン</a>を使うことで、3通りにできる。ツールは適切に選択する。<p></p><h3>時間の掛かる処理にはProgressbarを表示する</h3>計算量の多い処理が動くときに画面更新が止まるケースがある。Progressbarを表示して、動作中であることを表示する。計算が動いているときに画面更新が止まってしまう場合は、<code>Application.DoEvent()</code>を定期的に呼び出すことで、Progressbarを含め画面更新を動作させることが出来る。<br/>
動作中なのにフリーズしたように見えてしまうと、ユーザーは想定外の動作をしやすい。<p></p><h3>想定と違う操作順序を行っても問題ないか</h3>データ読み込みと計算の２つの動作ボタンがあるなら、起動後のデータが読み込まれていないときに計算を呼び出したときは、計算が実施されないようにする。ゼロ除算などが起きやすい。<p></p><h3>前提とする<a class="keyword" href="http://d.hatena.ne.jp/keyword/%CA%B8%BB%FA%A5%B3%A1%BC%A5%C9">文字コード</a>は正しいか</h3>ファイル読み込みでは<a class="keyword" href="http://d.hatena.ne.jp/keyword/%CA%B8%BB%FA%A5%B3%A1%BC%A5%C9">文字コード</a>が異なっても問題はないか？想定外の<a class="keyword" href="http://d.hatena.ne.jp/keyword/%CA%B8%BB%FA%A5%B3%A1%BC%A5%C9">文字コード</a>である場合は「<a class="keyword" href="http://d.hatena.ne.jp/keyword/%CA%B8%BB%FA%A5%B3%A1%BC%A5%C9">文字コード</a>が違います！」などのメッセージを出してあげると問い合わせを減らせる。<p></p><h3>違う環境で動作させてみる</h3>モニター画面サイズが開発環境と違うとUI(ユーザーフォーム)の端っこにあるオブジェクトが隠れてしまうことがある。オブジェクトは端に設置しすぎない。<p></p><h3>接続切れのときの挙動を確認する</h3>USBやネットワーク通信を利用している場合は、動作中に接続が切れても問題は起きないか？意図的に動作中にLANケーブルを抜いてみよう。<br/>
再接続したときに続きからうまく再開されるか？不完全なデー<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%BF%A5%BB%A5%C3%A5%C8">タセット</a>ができたときのError処理があるか？<p></p><h3>リーダブルなコードを書く、コードを整形する</h3>自分が一目で処理内容を理解できないならコメントを書いておく。forをi=0ではなくi=1から始めたならなにか特別な理由があるはず。だが3日後の自分はそのことを忘れている、もしかしたら明日の自分すら。昨日の自分は他人、明日の自分は他人と思え。<br/>
コードは読みやすく書く。処理を考えながらコーディングしていると変数が散らかったりネストが深くなったりする。最終的には実行速度に影響しないとしても整形しておくほうが良い。インデントをそろえることも読みやすさには重要。<br/>
<a class="keyword" href="http://d.hatena.ne.jp/keyword/Visual%20Studio">Visual Studio</a>なら<code>Ctrl+K</code>→<code>Ctrl+D</code>、Pycharmなら<code>Ctrl + Alt + L</code>でインデントの整形ができる。<p></p><h3>出来るだけパーツ(クラス、関数)に分解しながら構成する</h3>そのコード、パーツ(クラス、関数)に分解できませんか？分解することで変数が追いかけやすくなる。ただし、分解したことにより<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%B0%A5%ED%A1%BC%A5%D0%A5%EB%CA%D1%BF%F4">グローバル変数</a>(パブリック変数)つまりソリューションのどこからでもアクセスできる変数を増やしてしまうなら一考必要。<p></p><h3>その他チェックリスト</h3>アイコンは設定したか<br/>
Version名は正しいか<br/>
ファイル名は正しいか<p></p><h3>s51517765のページ</h3><iframe class="embed-card embed-webcard" frameborder="0" scrolling="no" src="https://hatenablog-parts.com/embed?url=https%3A%2F%2Fwww.vector.co.jp%2Fsoft%2Fwinnt%2Fedu%2Fse518906.html" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;" title="FFTの詳細情報 : Vector ソフトを探す！"></iframe><cite class="hatena-citation"><a href="https://www.vector.co.jp/soft/winnt/edu/se518906.html">www.vector.co.jp</a></cite><br/>
<iframe class="embed-card embed-webcard" frameborder="0" scrolling="no" src="https://hatenablog-parts.com/embed?url=https%3A%2F%2Fwww.vector.co.jp%2Fsoft%2Fwinnt%2Futil%2Fse517863.html" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;" title="タイムカードの詳細情報 : Vector ソフトを探す！"></iframe><cite class="hatena-citation"><a href="https://www.vector.co.jp/soft/winnt/util/se517863.html">www.vector.co.jp</a></cite><br/>
<span itemscope="" itemtype="http://schema.org/Photograph"><img alt="f:id:s51517765:20181205224629j:plain" class="hatena-fotolife" itemprop="image" src="https://cdn-ak.f.st-hatena.com/images/fotolife/s/s51517765/20181205/20181205224629.jpg" title="f:id:s51517765:20181205224629j:plain"/></span><br/>
<div class="hatena-asin-detail"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/479810714X/shirotoakb-22/"><img alt="バグがないプログラムのつくり方 JavaとEclipseで学ぶTDDテスト駆動開発 (Be agile!)" class="hatena-asin-detail-image" src="https://images-fe.ssl-images-amazon.com/images/I/51XPEMTPVTL._SL160_.jpg" title="バグがないプログラムのつくり方 JavaとEclipseで学ぶTDDテスト駆動開発 (Be agile!)"/></a><div class="hatena-asin-detail-info"><p class="hatena-asin-detail-title"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/479810714X/shirotoakb-22/">バグがないプログラムのつくり方 JavaとEclipseで学ぶTDDテスト駆動開発 (Be agile!)</a></p><ul><li><span class="hatena-asin-detail-label">作者:</span> 川端光義,<a class="keyword" href="http://d.hatena.ne.jp/keyword/%C1%D2%B4%D3%B5%C1%BF%CD">倉貫義人</a>,兒玉督司</li><li><span class="hatena-asin-detail-label">出版社/メーカー:</span> <a class="keyword" href="http://d.hatena.ne.jp/keyword/%E6%C6%B1%CB%BC%D2">翔泳社</a></li><li><span class="hatena-asin-detail-label">発売日:</span> 2004/09/22</li><li><span class="hatena-asin-detail-label">メディア:</span> 単行本</li><li><span class="hatena-asin-detail-label">購入</span>: 9人 <span class="hatena-asin-detail-label">クリック</span>: 162回</li><li><a href="http://d.hatena.ne.jp/asin/479810714X/shirotoakb-22" target="_blank">この商品を含むブログ (49件) を見る</a></li></ul></div><div class="hatena-asin-detail-foot"></div></div>
</div>