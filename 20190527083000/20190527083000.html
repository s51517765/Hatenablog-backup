<div class="entry-content">
<p>Webアプリを作ってみたくて、firebaseを試してみました。<br/>
Databaseを作ったり、それを応用してリアルタイムで共有できる「買い物リスト」なんかも作れるのではないかと思っています。<br/>
Mailアドレスや、<a class="keyword" href="http://d.hatena.ne.jp/keyword/SNS">SNS</a>アカウントによるログイン機能が提供されていて、ほぼ無料で使えます。<br/>
<iframe class="embed-card embed-webcard" frameborder="0" scrolling="no" src="https://hatenablog-parts.com/embed?url=https%3A%2F%2Fwww.topgate.co.jp%2Ffirebase01-what-is-firebase" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;" title="【第1回】 Google の mBaaS 「 Firebase 」とは？【はじめてみよう Firebase】 | 株式会社トップゲート"></iframe><cite class="hatena-citation"><a href="https://www.topgate.co.jp/firebase01-what-is-firebase">www.topgate.co.jp</a></cite></p><p></p><h3>インストール</h3><iframe class="embed-card embed-webcard" frameborder="0" scrolling="no" src="https://hatenablog-parts.com/embed?url=https%3A%2F%2Ffirebase.google.com" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;" title="Firebase"></iframe><cite class="hatena-citation"><a href="https://firebase.google.com">firebase.google.com</a></cite><p><iframe class="embed-card embed-webcard" frameborder="0" scrolling="no" src="https://hatenablog-parts.com/embed?url=https%3A%2F%2Ffirebase.google.com%2Fdocs%2Fcli%2F%3Fauthuser%3D0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;" title="Firebase CLI Reference  |  Firebase"></iframe><cite class="hatena-citation"><a href="https://firebase.google.com/docs/cli/?authuser=0">firebase.google.com</a></cite><br/>
Referenceを参考に、Node <a href="https://nodejs.org/en/download/">https://nodejs.org/en/download/</a>をインストールします。</p><p>次に<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%B3%A5%DE%A5%F3%A5%C9%A5%D7%A5%ED%A5%F3%A5%D7%A5%C8">コマンドプロンプト</a>でfirebase toolをインストールします。</p>
<pre class="code" data-lang="" data-unlink="">$ npm install -g firebase-tools</pre><p>ログインします。<br/>
ブラウザが立ち上がるので<a class="keyword" href="http://d.hatena.ne.jp/keyword/Google">Google</a>アカウントの認証をします。</p>
<pre class="code" data-lang="" data-unlink="">$ firebase login</pre><p>Version upを確認します。</p>
<pre class="code" data-lang="" data-unlink="">$ npm install -g firebase-tools</pre><p></p><h3>アプリの作成</h3>プロジェクトを作成します。<br/>
<span itemscope="" itemtype="http://schema.org/Photograph"><img alt="f:id:s51517765:20190519180425p:plain" class="hatena-fotolife" itemprop="image" src="https://cdn-ak.f.st-hatena.com/images/fotolife/s/s51517765/20190519/20190519180425.png" title="f:id:s51517765:20190519180425p:plain"/></span><p>アプリを追加します。<br/>
<span itemscope="" itemtype="http://schema.org/Photograph"><img alt="f:id:s51517765:20190526130838p:plain" class="hatena-fotolife" itemprop="image" src="https://cdn-ak.f.st-hatena.com/images/fotolife/s/s51517765/20190526/20190526130838.png" title="f:id:s51517765:20190526130838p:plain"/></span><br/>
<span itemscope="" itemtype="http://schema.org/Photograph"><img alt="f:id:s51517765:20190526125141p:plain" class="hatena-fotolife" itemprop="image" src="https://cdn-ak.f.st-hatena.com/images/fotolife/s/s51517765/20190526/20190526125141.png" title="f:id:s51517765:20190526125141p:plain"/></span></p><p><a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%B9%A5%CB%A5%DA%A5%C3%A5%C8">スニペット</a>といわれる<a class="keyword" href="http://d.hatena.ne.jp/keyword/API">API</a>キーが発行されます。（<a class="keyword" href="http://d.hatena.ne.jp/keyword/API">API</a>キーは公開しないほうがいいのかな？）<br/>
<span itemscope="" itemtype="http://schema.org/Photograph"><img alt="f:id:s51517765:20190526125423p:plain" class="hatena-fotolife" itemprop="image" src="https://cdn-ak.f.st-hatena.com/images/fotolife/s/s51517765/20190526/20190526125423.png" title="f:id:s51517765:20190526125423p:plain"/></span></p><p>データベースルールを変更し、公開します。<br/>
Database＞Realtime Databaseで<code>read</code>、<code>write</code>をtrueに書き換えます。<br/>
<span itemscope="" itemtype="http://schema.org/Photograph"><img alt="f:id:s51517765:20190526125929p:plain" class="hatena-fotolife" itemprop="image" src="https://cdn-ak.f.st-hatena.com/images/fotolife/s/s51517765/20190526/20190526125929.png" title="f:id:s51517765:20190526125929p:plain"/></span></p><p>コンソール（<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%B3%A5%DE%A5%F3%A5%C9%A5%E9%A5%A4%A5%F3">コマンドライン</a>）に戻ります。<br/>
プロジェクトに適したフォルダを作成します。<br/>
これを行わないとマイドキュメントに作られますが、不具合が出るようです。</p>
<pre class="code" data-lang="" data-unlink="">$ mkdir myProject</pre><p>作ったフォルダに移動し、プロジェクトの初期化をします。</p>
<pre class="code" data-lang="" data-unlink="">$ cd myProject
$ firebase init</pre><pre class="code" data-lang="" data-unlink="">Are you ready to proceed? (Y/n) 　→Y</pre><pre class="code" data-lang="" data-unlink="">Which Firebase CLI features do you want to set up for this folder? Press Space to select features, then Enter to conf
irm your choices.  →
Hosting: Configure and deploy Firebase Hosting sites</pre><p>上下のカーソルで移動し、スペースで選択します。</p>
<pre class="code" data-lang="" data-unlink="">? Select a default Firebase project for this directory:
→　いま作ったプロジェクトを選択</pre><pre class="code" data-lang="" data-unlink="">? What do you want to use as your public directory? (public)
→Enter</pre><pre class="code" data-lang="" data-unlink="">Configure as a single-page app (rewrite all urls to /index.html)? (y/N)
→ N</pre><pre class="code" data-lang="" data-unlink=""> Firebase initialization complete!</pre><p>とでたらOK。</p><p>ここまでで、↓のようなファイルができているはずです（404はないかも）。<br/>
<span itemscope="" itemtype="http://schema.org/Photograph"><img alt="f:id:s51517765:20190519185002p:plain" class="hatena-fotolife" itemprop="image" src="https://cdn-ak.f.st-hatena.com/images/fotolife/s/s51517765/20190519/20190519185002.png" title="f:id:s51517765:20190519185002p:plain"/></span><span itemscope="" itemtype="http://schema.org/Photograph"><img alt="f:id:s51517765:20190519185012p:plain" class="hatena-fotolife" itemprop="image" src="https://cdn-ak.f.st-hatena.com/images/fotolife/s/s51517765/20190519/20190519185012.png" title="f:id:s51517765:20190519185012p:plain"/></span></p><p><code>index.html</code>を編集します。<br/>
<iframe class="embed-card embed-webcard" frameborder="0" scrolling="no" src="https://hatenablog-parts.com/embed?url=https%3A%2F%2Fgithub.com%2Fs51517765%2F1stFirebase%2Fblob%2Fmaster%2FmyProject%2Fpublic%2Findex_.html" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;" title="s51517765/1stFirebase"></iframe><cite class="hatena-citation"><a href="https://github.com/s51517765/1stFirebase/blob/master/myProject/public/index_.html">github.com</a></cite></p><p>コンソールにもどってデフォルトのポートがふさがれているので、ポートを変更します。</p>
<pre class="code" data-lang="" data-unlink="">$ firebase serve -p 8080</pre><pre class="code" data-lang="" data-unlink="">i  hosting: Serving hosting files from: public
+  hosting: Local server: http://localhost:8080</pre><p>と表示されたら、<code>http://localhost:8080</code>でブラウザでアクセスすると、動くはずです。</p><p><code>Ctlr + C</code> で停止し、デプロイします。</p>
<pre class="code" data-lang="" data-unlink="">$ firebase deploy</pre><p>Completeと表示されたら、Hosting　URLにアクセスすることが出来ます。</p>
<pre class="code" data-lang="" data-unlink="">+  Deploy complete!
Project Console: https://console.firebase.google.com/project/myproject-3c527/overview
Hosting URL: https://myproject-3c527.firebaseapp.com</pre><p></p><h3>まとめ</h3>これで、ブラウザで二つのページを開いてみると一方の変更がもう一方にも反映されるのがわかります。<blockquote class="twitter-tweet" data-lang="HASH(0x55b490dbdd00)"><p dir="ltr" lang="ja">firebaseでリアルタイムデータベースを作ってみました。 <a href="https://t.co/tMTn1nGPKr">pic.twitter.com/tMTn1nGPKr</a></p>— プログラミング素人 (@s51517765) <a href="https://twitter.com/s51517765/status/1132504114338750466?ref_src=twsrc%5Etfw">May 26, 2019</a></blockquote><script async="" charset="utf-8" src="https://platform.twitter.com/widgets.js"></script><br/>
<iframe class="embed-card embed-webcard" frameborder="0" scrolling="no" src="https://hatenablog-parts.com/embed?url=https%3A%2F%2Fs51517765.firebaseapp.com%2Fmyfirst%2F" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;" title="Firebase test 1"></iframe><cite class="hatena-citation"><a href="https://s51517765.firebaseapp.com/myfirst/">s51517765.firebaseapp.com</a></cite><p></p><h3>コンソールの基本操作</h3>firebaseコンソールで必要な最低限のコマンドをまとめておきます。
<pre class="code" data-lang="" data-unlink="">$ cd *** フォルダ移動
$ cd .. 一つ上のフォルダ
$ mkdir *** フォルダ作成
$ help xxx コマンドのマニュアル</pre><p></p><h3>参考</h3><iframe class="embed-card embed-webcard" frameborder="0" scrolling="no" src="https://hatenablog-parts.com/embed?url=https%3A%2F%2Fqiita.com%2Fkohashi%2Fitems%2F43ea22f61ade45972881" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;" title="Firebaseの始め方 - Qiita"></iframe><cite class="hatena-citation"><a href="https://qiita.com/kohashi/items/43ea22f61ade45972881">qiita.com</a></cite><br/>
<iframe class="embed-card embed-webcard" frameborder="0" scrolling="no" src="https://hatenablog-parts.com/embed?url=https%3A%2F%2Fqiita.com%2Frakuraku0615%2Fitems%2F9f88886d7348db3905f6" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;" title="FirebaseのRealtime Databaseを触ってみる - Qiita"></iframe><cite class="hatena-citation"><a href="https://qiita.com/rakuraku0615/items/9f88886d7348db3905f6">qiita.com</a></cite><br/>
<iframe class="embed-card embed-webcard" frameborder="0" scrolling="no" src="https://hatenablog-parts.com/embed?url=https%3A%2F%2Fwww.topgate.co.jp%2Ffirebase04-firebase-hosting-deploy-website%23firebase-2" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;" title="【第4回】 Firebase Hosting でスタティックな Web ページをデプロイしよう！【はじめてみよう Firebase】 | 株式会社トップゲート"></iframe><cite class="hatena-citation"><a href="https://www.topgate.co.jp/firebase04-firebase-hosting-deploy-website#firebase-2">www.topgate.co.jp</a></cite><br/>
<iframe class="embed-card embed-webcard" frameborder="0" scrolling="no" src="https://hatenablog-parts.com/embed?url=https%3A%2F%2Fqiita.com%2FYatima%2Fitems%2Ff550951ceb830f934dfd" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;" title="お手軽Firebase Codelab を Google Cloud Shell で試す時のメリット・落とし穴と解決策 - Qiita"></iframe><cite class="hatena-citation"><a href="https://qiita.com/Yatima/items/f550951ceb830f934dfd">qiita.com</a></cite>
</div>