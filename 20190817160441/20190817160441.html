<div class="entry-content">
<p></p><div class="hatena-asin-detail"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/4434217461/shirotoakb-22/"><img alt="リアルタイムOSから出発して 組込みソフトエンジニアを極める[改装版]" class="hatena-asin-detail-image" src="https://images-fe.ssl-images-amazon.com/images/I/41KnzD6hxiL._SL160_.jpg" title="リアルタイムOSから出発して 組込みソフトエンジニアを極める[改装版]"/></a><div class="hatena-asin-detail-info"><p class="hatena-asin-detail-title"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/4434217461/shirotoakb-22/">リアルタイムOSから出発して 組込みソフトエンジニアを極める[改装版]</a></p><ul><li><span class="hatena-asin-detail-label">作者:</span> 酒井由夫,発行:<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%A8%A5%B9">エス</a>アイビーアクセス発売:<a class="keyword" href="http://d.hatena.ne.jp/keyword/%C0%B1%B1%C0%BC%D2">星雲社</a></li><li><span class="hatena-asin-detail-label">出版社/メーカー:</span> <a class="keyword" href="http://d.hatena.ne.jp/keyword/%C0%B1%B1%C0%BC%D2">星雲社</a></li><li><span class="hatena-asin-detail-label">発売日:</span> 2016/05/01</li><li><span class="hatena-asin-detail-label">メディア:</span> 単行本</li><li><a href="http://d.hatena.ne.jp/asin/4434217461/shirotoakb-22" target="_blank">この商品を含むブログを見る</a></li></ul></div><div class="hatena-asin-detail-foot"></div></div>ソフトウェアの分野の一つとして組込みソフトというものがあります。<br/>
組込みソフトとは、家電やオフィス機器など、市販品に組み込まれているソフトウェアのことです。<br/>
また、<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%EA%A5%A2%A5%EB%A5%BF%A5%A4%A5%E0OS">リアルタイムOS</a>とは、少しの時間設定のずれが大きく性能に影響する装置を駆動するOSのことで、本書では例として「レシート<a class="keyword" href="http://d.hatena.ne.jp/keyword/%B0%F5%BA%FE%B5%A1">印刷機</a>能付き<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%EC%A5%B8%A5%B9%A5%BF">レジスタ</a>ー」を取り上げています。<br/>
レシート印刷では、時間管理がずれてしまうとドットがずれるため絵や文字が再現されなくなります。<br/>
一方、組込みソフトは利益を出さなければならないので、そのハードウェア性能はギリギリであることが少なくなく、制約が大きいのです。<p>「組込みソフト」という分野について、どのようなものかというのが興味があったのでこの本を読んでみました。</p><p></p><h3>本篇</h3>組込みソフトのプログラムについてはあまり出てきません。<br/>
1章では組込みソフトの設計について触れていますが、2章以降は<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%AA%A5%D6%A5%B8%A5%A7%A5%AF%A5%C8%BB%D8%B8%FE">オブジェクト指向</a>一般や、ソフトウェア再利用性や、品質を高める方法について書かれています。<br/>
つまりこの本で言いたいことというのは、市販品では安全をおろそかにするとリコールにつながるため、それはどうやっても避けるべきだ、ということなのでは思います。<p>ですので、具体的なプログラミングの実際の例だったり、組込みならではのプログラミングのノウハウだったりを期待していると肩透かしです。</p><p>その中では、レシート<a class="keyword" href="http://d.hatena.ne.jp/keyword/%B0%F5%BA%FE%B5%A1">印刷機</a>能付き<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%EC%A5%B8%A5%B9%A5%BF">レジスタ</a>ーで組込みならではの事例が紹介されています。<br/>
プリントヘッドのコン<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%C8%A5%ED%A1%BC%A5%EB">トロール</a>はその他印刷情報の受信や、紙送りなどと同等に扱うと、時間のかかる他の処理に影響されてプリントヘッドの処理が影響を受けると、ドット作成に発生します。したがって、プリントヘッドの制御は一番優先度が高くなければなりません。紙送りや印刷情報の受信は、時間がかかるとしてもすべて準備ができるまで待ってからシリアルに制御すれば問題は発生しませんが、ヘッドコン<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%C8%A5%ED%A1%BC%A5%EB">トロール</a>は何かの影響を受けて待ってしまうと、プリントヘッド（サーマルヘッド）が過熱しすぎてしまったりと問題が発生するからです。<br/>
この辺については、タイマー割込み、<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%BB%A5%DE%A5%D5%A5%A9">セマフォ</a>、<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%B7%A5%B9%A5%C6%A5%E0%A5%B3%A1%BC%A5%EB">システムコール</a>、低レベル、といった言葉がキーワードではないでしょうか。</p><p>品質向上のひとつの考え方として、「V字プロセス」というものがあります。<figure class="figure-image figure-image-fotolife" title="V字プロセス"><span itemscope="" itemtype="http://schema.org/Photograph"><img alt="f:id:s51517765:20190817152716p:plain" class="hatena-fotolife" itemprop="image" src="https://cdn-ak.f.st-hatena.com/images/fotolife/s/s51517765/20190817/20190817152716.png" title="f:id:s51517765:20190817152716p:plain"/></span><figcaption>V字プロセス</figcaption></figure>詳細設計にたいしては<a class="keyword" href="http://d.hatena.ne.jp/keyword/%C3%B1%C2%CE%A5%C6%A5%B9%A5%C8">単体テスト</a>を行い、機能設計には<a class="keyword" href="http://d.hatena.ne.jp/keyword/%B7%EB%B9%E7%A5%C6%A5%B9%A5%C8">結合テスト</a>を行い…、というように部品から順番に品質を高めていくという方法です。<br/>
これは<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%AA%A5%D6%A5%B8%A5%A7%A5%AF%A5%C8%BB%D8%B8%FE">オブジェクト指向</a>とも関連していて、機能を分割（関数化）することで品質確認をしやすくするというような側面もあると思います。<br/>
一方で、ソフトウェアというのは再利用をすることはとても多く、それは市場に出ているソフトウェアは市場で多くのテストを受けているのと同じことで、一番品質が高いことが証明されているようなものと考えられるからです。<br/>
しかし、市場では偏ったテストを受けているのと同じなのでテストされる確率が低い現象にかかわるバグや、次の製品で違った分野に適用する場合は注意が必要になります。</p><p>テストでは、正しい入力に対して正しい結果を返すことだけを確認していては不足です。<br/>
正しくない入力をした時にはそれは正しくないとErrorを返すことを確認するべきです。<br/>
医薬品の世界で、「<a class="keyword" href="http://d.hatena.ne.jp/keyword/%B5%B6%CD%DB%C0%AD">偽陽性</a>」という言葉がありますが、正しくないものに対して正しいような結果を返すのは問題なのです。<figure class="figure-image figure-image-fotolife" title="偽陽性"><span itemscope="" itemtype="http://schema.org/Photograph"><img alt="f:id:s51517765:20190817154857p:plain" class="hatena-fotolife" itemprop="image" src="https://cdn-ak.f.st-hatena.com/images/fotolife/s/s51517765/20190817/20190817154857.png" title="f:id:s51517765:20190817154857p:plain"/></span><figcaption><a class="keyword" href="http://d.hatena.ne.jp/keyword/%B5%B6%CD%DB%C0%AD">偽陽性</a></figcaption></figure></p><p>要求仕様とはソフトウェアを作成するための仕様書ですが、仕様書を作る人は必ずしもソフトウェアに精通していません。<br/>
というより、私個人の経験からすると普通はまず知りません。<br/>
ですから、受け取ったソフトウェアエンジニアがソフトウェア視点で仕様に意見することも時には必要です。</p><p></p><h3>まとめ</h3>「<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%EA%A5%A2%A5%EB%A5%BF%A5%A4%A5%E0OS">リアルタイムOS</a>から出発して組込みソフトエンジニアを極める」という本を読みました。<br/>
「組込みソフトエンジニアを極める」とタイトルされていますが、すべてのソフトウェアエンジニアにとって知っておくべき内容だと思います。<br/>
また、ソフトウェアエンジニア以外の人（ソフトウェア以外のエンジニア、営業、企画、マネジメント…）も多少、こんなものもあるんだと知っておくと製品の品質向上に寄与すると思います。<br/>
一方、具体的な組込みならではのノウハウが中心の書籍ではありません。<p>というわけで肩透かしを食った面は否定できないので、具体的な組込みプログラミングの事例に当たれるような書籍を知っていたらだれか教えてください。</p>
</div>