<div class="entry-content">
<p></p><blockquote class="twitter-tweet" data-conversation="none" data-lang="ja"><p dir="ltr" lang="ja">ラズパイで$sudo rebootしようとしたら、I/O errorみたいのが出て、SD cardを<a class="keyword" href="http://d.hatena.ne.jp/keyword/windows">windows</a>で読み込もうとしたら、<br/>「このドライブで問題が発生しました」みたいになって、これがSD cardの寿命というやつか？<br/>そして修復は失敗した。 <a href="https://t.co/CiK0yii71m">pic.twitter.com/CiK0yii71m</a></p>— とりてん (@s51517765) <a href="https://twitter.com/s51517765/status/1337208534048489473?ref_src=twsrc%5Etfw">2020年12月11日</a></blockquote> <script async="" charset="utf-8" src="https://platform.twitter.com/widgets.js"></script> <p>というわけで新しいSDカードにラズパイのイメージを作ります。<br/>
<a class="keyword" href="http://d.hatena.ne.jp/keyword/Raspberry%20Pi">Raspberry Pi</a> Imagerを使います。</p><p></p><h3><a class="keyword" href="http://d.hatena.ne.jp/keyword/Raspberry%20Pi">Raspberry Pi</a> Imagerのダウンロードとインストール</h3>こちらから<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%A4%A5%F3%A5%B9%A5%C8%A1%BC%A5%E9">インストーラ</a>ーをダウンロード、インストールします。<br/>
<iframe class="embed-card embed-webcard" frameborder="0" scrolling="no" src="https://hatenablog-parts.com/embed?url=https%3A%2F%2Fwww.raspberrypi.org%2Fsoftware%2F" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;" title="Raspberry Pi OS – Raspberry Pi"></iframe><cite class="hatena-citation"><a href="https://www.raspberrypi.org/software/">www.raspberrypi.org</a></cite><p>起動します。<br/>
<span itemscope="" itemtype="http://schema.org/Photograph"><img alt="f:id:s51517765:20201211130613j:plain" class="hatena-fotolife" itemprop="image" src="https://cdn-ak.f.st-hatena.com/images/fotolife/s/s51517765/20201211/20201211130613.jpg" title=""/></span><br/>
メニューは左から、「OSの選択」、「書き込み先ストレージの選択」、「書き込み実行」です。<br/>
OSは今回は<code>Raspberry Pi OS Lite (32-bit)</code>を選択します。<br/>
otherから選択できます。<br/>
<span itemscope="" itemtype="http://schema.org/Photograph"><img alt="f:id:s51517765:20201211130932j:plain" class="hatena-fotolife" itemprop="image" src="https://cdn-ak.f.st-hatena.com/images/fotolife/s/s51517765/20201211/20201211130932.jpg" title=""/></span><br/>
<span itemscope="" itemtype="http://schema.org/Photograph"><img alt="f:id:s51517765:20201211130942j:plain" class="hatena-fotolife" itemprop="image" src="https://cdn-ak.f.st-hatena.com/images/fotolife/s/s51517765/20201211/20201211130942.jpg" title=""/></span><br/>
次に書き込むストレージを選択します。ここではUSBのカードリーダーに入れた32GBのMicro SDカードです。<br/>
この時に自動的にフォーマットもされるようです。<br/>
<a class="keyword" href="http://d.hatena.ne.jp/keyword/Windows">Windows</a>のストレージである、ハードディスク（500GB）も見えています。<br/>
これを間違って選択したらどうなるんだろう？？？？<br/>
<span itemscope="" itemtype="http://schema.org/Photograph"><img alt="f:id:s51517765:20201211130954j:plain" class="hatena-fotolife" itemprop="image" src="https://cdn-ak.f.st-hatena.com/images/fotolife/s/s51517765/20201211/20201211130954.jpg" title=""/></span><br/>
WRITE→YESとします。<br/>
<span itemscope="" itemtype="http://schema.org/Photograph"><img alt="f:id:s51517765:20201211131238j:plain" class="hatena-fotolife" itemprop="image" src="https://cdn-ak.f.st-hatena.com/images/fotolife/s/s51517765/20201211/20201211131238.jpg" title=""/></span><br/>
<span itemscope="" itemtype="http://schema.org/Photograph"><img alt="f:id:s51517765:20201211131329j:plain" class="hatena-fotolife" itemprop="image" src="https://cdn-ak.f.st-hatena.com/images/fotolife/s/s51517765/20201211/20201211131329.jpg" title=""/></span><br/>
書き込みが終わるまで10分かからないぐらいでした。<br/>
ちなみにNoobosダウンロードは30分以上かかります。</p><p></p><h3>初期設定</h3>初期idはpi、passwordはraspberryです。<p><a class="keyword" href="http://d.hatena.ne.jp/keyword/SSH">SSH</a>の有効化、piユーザーの削除、ポートの変更、update、upgradeなどを行います。</p>
<pre class="code" data-lang="" data-unlink="">$sudo apt-get update
$sudo apt-get upgrade</pre><p><iframe class="embed-card embed-blogcard" frameborder="0" scrolling="no" src="https://hatenablog-parts.com/embed?url=https%3A%2F%2Fs51517765.hatenadiary.jp%2Fentry%2F2017%2F10%2F10%2F215836" style="display: block; width: 100%; height: 190px; max-width: 500px; margin: 10px 0px;" title="Raspberry Pi 3を一からインストール - プログラミング素人のはてなブログ"></iframe><cite class="hatena-citation"><a href="https://s51517765.hatenadiary.jp/entry/2017/10/10/215836">s51517765.hatenadiary.jp</a></cite><br/>
<iframe class="embed-card embed-blogcard" frameborder="0" scrolling="no" src="https://hatenablog-parts.com/embed?url=https%3A%2F%2Fs51517765.hatenadiary.jp%2Fentry%2F2019%2F03%2F05%2F073000" style="display: block; width: 100%; height: 190px; max-width: 500px; margin: 10px 0px;" title="セキュリティのためにラズパイで最低限やっておく設定まとめ - プログラミング素人のはてなブログ"></iframe><cite class="hatena-citation"><a href="https://s51517765.hatenadiary.jp/entry/2019/03/05/073000">s51517765.hatenadiary.jp</a></cite><br/>
<code>raspi-congfig</code>のメニュー構造が変わっている場合がありますが、必ずあります。</p><p><code>pip</code>がインストールされていないようなので、インストールし、必要な<a class="keyword" href="http://d.hatena.ne.jp/keyword/Python">Python</a>パッケージをインストールします。</p>
<pre class="code" data-lang="" data-unlink="">-bash: pip3: command not found
$apt install python3-pip</pre><p>お好みで<a class="keyword" href="http://d.hatena.ne.jp/keyword/Vim">Vim</a>もインストールしておきます。</p>
<pre class="code" data-lang="" data-unlink="">$sudo apt-get install vim</pre><p>完成！</p><h3>まとめ</h3>初めて<a class="keyword" href="http://d.hatena.ne.jp/keyword/Raspberry%20Pi">Raspberry Pi</a> ImagerによるOSインストールを行いました。<br/>
Image作成までは何も考えなくても出来てしまいうほど簡単です。<br/>
その後の設定のほうが大変ですね。<p>RaspberryPi OSと名称は変更になったけど、Rerlease versionはRaspbianのままですね。</p>
<pre class="code" data-lang="" data-unlink="">$lsb_release -a
No LSB modules are available.
Distributor ID: Raspbian
Description:    Raspbian GNU/Linux 10 (buster)
Release:        10
Codename:       buster</pre><p><a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%AB%A1%BC%A5%CD%A5%EB">カーネル</a>情報を見ると新しいので、間違っては無いはず。</p>
<pre class="code" data-lang="" data-unlink="">$uname -a
Linux raspberrypi 5.4.79-v7+ #1373 SMP Mon Nov 23 13:22:33 GMT 2020 armv7l GNU/Linux</pre>
</div>